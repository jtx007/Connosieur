{"ast":null,"code":"import _objectSpread from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/src/components/PostForm/PostForm.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport adapters from '../adapters';\n\nvar PostForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PostForm, _Component);\n\n  function PostForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PostForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PostForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      title: '',\n      body: ''\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var thread = Object.assign(_objectSpread({}, _this.state));\n      adapters.createThread(thread, _this.props.current_user.id).then(function () {\n        return _this.props.history.push('/threads');\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PostForm, [{\n    key: \"render\",\n    value: function render() {\n      if (this.props.loggedIn) {\n        return React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          className: \"col s12 input1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          className: \"form-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, \"New thread\"), React.createElement(\"div\", {\n          className: \"input-field col s12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"material-icons prefix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, \"mode_edit\"), React.createElement(\"input\", {\n          onChange: this.handleChange,\n          value: this.state.title,\n          name: \"title\",\n          id: \"last_name\",\n          type: \"text\",\n          className: \"validate\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          htmlFor: \"last_name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, \"Title\"))), React.createElement(\"div\", {\n          className: \"row input2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"input-field col s12\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"material-icons prefix\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45\n          },\n          __self: this\n        }, \"mode_edit\"), React.createElement(\"textarea\", {\n          onChange: this.handleChange,\n          value: this.state.body,\n          name: \"body\",\n          id: \"textarea2\",\n          className: \"materialize-textarea\",\n          \"data-length\": \"2000\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          htmlFor: \"textarea2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, \"Body\"))), React.createElement(\"div\", {\n          className: \"row post-btn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn-large red pulse\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"Create Thread\")));\n      } else {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return PostForm;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loggedIn: state.login_user.loggedIn,\n    current_user: state.login_user.current_user\n  };\n};\n\nexport default connect(mapStateToProps)(PostForm);","map":{"version":3,"sources":["/Users/jtx007/Development/MOD-5/FinalProject/frontend/src/components/PostForm/PostForm.js"],"names":["React","Component","connect","Redirect","adapters","PostForm","state","title","body","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","thread","Object","assign","createThread","props","current_user","id","then","history","push","loggedIn","mapStateToProps","login_user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport adapters from '../adapters'\n class PostForm extends Component {\n\n\n    state = {\n        title: '',\n        body: ''\n    }\n\n    \n    handleChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n\n\n    handleSubmit = (e) => {\n        e.preventDefault()\n        let thread = Object.assign({...this.state})\n        adapters.createThread(thread, this.props.current_user.id)\n        .then(() => this.props.history.push('/threads'))\n    }\n\n\n    render() {\n        if (this.props.loggedIn) {\n        return (\n            <form onSubmit={this.handleSubmit} className=\"col s12 input1\">\n                <div className=\"row\">\n                <h2 className=\"form-title\">New thread</h2>\n                    <div className=\"input-field col s12\">\n                    <i className=\"material-icons prefix\">mode_edit</i>\n\n                        <input onChange={this.handleChange} value={this.state.title} name=\"title\" id=\"last_name\" type=\"text\" className=\"validate\"/>\n                        <label htmlFor=\"last_name\">Title</label>\n                    </div>\n                </div>\n                <div className=\"row input2\">\n                    <div className=\"input-field col s12\">\n                    <i className=\"material-icons prefix\">mode_edit</i>\n\n                    <textarea onChange={this.handleChange} value={this.state.body} name=\"body\" id=\"textarea2\" className=\"materialize-textarea\" data-length=\"2000\"></textarea>\n                    <label htmlFor=\"textarea2\">Body</label>\n                    </div>\n                </div>\n                <div className=\"row post-btn\">\n                    <button type=\"submit\" className=\"btn-large red pulse\">Create Thread</button>\n                </div>\n            </form>\n        )\n        } else {\n            return <Redirect to='/login' />\n        }\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        loggedIn : state.login_user.loggedIn,\n        current_user: state.login_user.current_user\n    }\n}\n\nexport default connect(mapStateToProps)(PostForm)"]},"metadata":{},"sourceType":"module"}