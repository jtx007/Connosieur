{"ast":null,"code":"import _classCallCheck from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jtx007/Development/MOD-5/FinalProject/frontend/src/components/ThreadCard/ThreadCard.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Comments from './Comments';\nimport adapters from '../adapters';\nimport profileAction from './profileAction';\n\nvar ThreadCard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ThreadCard, _Component);\n\n  function ThreadCard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ThreadCard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ThreadCard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      showCommentInput: false,\n      comment: '',\n      likes: _this.props.thread.likes,\n      dislikes: _this.props.thread.dislikes\n    };\n\n    _this.goToProfile = function (id) {\n      adapters.getAnotherUserProfile(id).then(function (r) {\n        return r.json();\n      }).then(function (data) {\n        return _this.props.profileAction(data);\n      }).then(function () {\n        return _this.props.history.push('/anotheruser');\n      });\n    };\n\n    _this.showCommentInput = function () {\n      _this.setState(function (prevState) {\n        return {\n          showCommentInput: !prevState.showCommentInput\n        };\n      });\n    };\n\n    _this.addComment = function (e) {\n      e.preventDefault();\n      adapters.addComment(_this.props.user_id, _this.props.thread.id, _this.state.comment).then(function () {\n        return _this.props.getAllThreads();\n      }).then(function () {\n        return _this.setState({\n          comment: ''\n        });\n      });\n    };\n\n    _this.addLikes = function (e) {\n      e.preventDefault();\n\n      _this.setState(function (prevState) {\n        return {\n          likes: prevState.likes + 1\n        };\n      });\n    };\n\n    _this.addDislikes = function (e) {\n      e.preventDefault();\n\n      _this.setState(function (prevState) {\n        return {\n          dislikes: prevState.dislikes + 1\n        };\n      });\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState({\n        comment: e.target.value\n      });\n    };\n\n    _this.renderComments = function (comments) {\n      return comments.map(function (comment) {\n        return React.createElement(Comments, {\n          key: comment.id,\n          comment: comment,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ThreadCard, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var thread = this.props.thread;\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col s12 m6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"thread-card card large darken-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-content black-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, thread.title), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"By \", React.createElement(\"button\", {\n        className: \"btn-small\",\n        onClick: function onClick() {\n          return _this2.goToProfile(_this2.props.user);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \" \", thread.user)), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, thread.body)), React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.addLikes,\n        className: \"button1 waves-effect waves-light btn-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \" arrow_upward \"), \"Likes:  \", this.state.likes, \" \"), React.createElement(\"button\", {\n        onClick: this.addDislikes,\n        className: \"waves-effect waves-light btn-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"arrow_downward\"), \"Dislikes  \", this.state.dislikes), React.createElement(\"h6\", {\n        className: \"basic-text-format\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Comments\"), React.createElement(\"button\", {\n        className: \"button1 waves-effect waves-light btn-small\",\n        onClick: this.showCommentInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"add comment\"), this.state.showCommentInput ? React.createElement(\"form\", {\n        onSubmit: this.addComment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"basic-text-format\",\n        onChange: this.handleChange,\n        value: this.state.comment,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"button1 waves-effect waves-light btn-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Reply\")) : null, React.createElement(\"div\", {\n        className: \"comments-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, this.renderComments(thread.comments))))));\n    }\n  }]);\n\n  return ThreadCard;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user_id: state.login_user.current_user.id,\n    loggedIn: state.login_user.loggedIn\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, {\n  profileAction: profileAction\n})(ThreadCard));","map":{"version":3,"sources":["/Users/jtx007/Development/MOD-5/FinalProject/frontend/src/components/ThreadCard/ThreadCard.js"],"names":["React","Component","withRouter","connect","Comments","adapters","profileAction","ThreadCard","state","showCommentInput","comment","likes","props","thread","dislikes","goToProfile","id","getAnotherUserProfile","then","r","json","data","history","push","setState","prevState","addComment","e","preventDefault","user_id","getAllThreads","addLikes","addDislikes","handleChange","target","value","renderComments","comments","map","title","user","body","mapStateToProps","login_user","current_user","loggedIn"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux' \nimport Comments from './Comments'\nimport adapters from '../adapters'\nimport profileAction from './profileAction'\n\n\nclass ThreadCard extends Component {\n\n\n\n    state = {\n        showCommentInput: false,\n        comment: '',\n        likes: this.props.thread.likes,\n        dislikes: this.props.thread.dislikes\n    }\n\n\n    goToProfile = (id) => {\n        adapters.getAnotherUserProfile(id)\n        .then( r => r.json())\n        .then(data => this.props.profileAction(data))\n        .then(() => this.props.history.push('/anotheruser'))\n    }\n\n    showCommentInput = () => {\n        this.setState(prevState =>({\n            showCommentInput: !prevState.showCommentInput\n        }))\n    }\n\n    addComment = (e) => {\n        e.preventDefault()\n        adapters.addComment(this.props.user_id, this.props.thread.id, this.state.comment)\n        .then(() => this.props.getAllThreads())\n        .then(() => this.setState({comment: ''}))\n    }\n\n    addLikes = (e) => {\n        e.preventDefault()\n        this.setState(prevState => ({\n            likes: prevState.likes + 1 \n        }))\n        \n    }\n\n\n    addDislikes = (e) => {\n        e.preventDefault()\n        this.setState(prevState => ({\n            dislikes: prevState.dislikes + 1\n        }))\n    }\n\n\n\n\n\n    handleChange = (e) => {\n        this.setState({\n            comment: e.target.value\n        })\n    }\n\n    renderComments = (comments) => {\n        return comments.map(comment => {\n            return <Comments  key={comment.id} comment={comment}/>\n        })\n    }\n\n    render() {\n        const {thread} = this.props\n\n        return (\n        <div className=\"row\">\n            <div className=\"col s12 m6\">\n            <div className=\"thread-card card large darken-1\">\n                <div className=\"card-content black-text\">\n                <span className=\"card-title\">{thread.title}</span>\n                <p>By <button className=\"btn-small\" onClick={() => this.goToProfile(this.props.user)}> {thread.user}</button></p>\n                <br/>\n                <p>{thread.body}</p>\n    \n            </div>\n            <div className=\"\">\n\n                <button onClick={this.addLikes} className=\"button1 waves-effect waves-light btn-small\"><i className=\"material-icons\"> arrow_upward </i>Likes:  {this.state.likes} </button>\n                <button onClick={this.addDislikes} className=\"waves-effect waves-light btn-small\"><i className=\"material-icons\">arrow_downward</i>Dislikes  {this.state.dislikes}</button>\n                <h6 className=\"basic-text-format\">Comments</h6>\n                <button className=\"button1 waves-effect waves-light btn-small\" onClick={this.showCommentInput}>add comment</button>\n                {this.state.showCommentInput ? \n                <form onSubmit={this.addComment}>\n                \n                <input className=\"basic-text-format\" onChange={this.handleChange} value={this.state.comment} />\n                <button type=\"submit\" className=\"button1 waves-effect waves-light btn-small\" >Reply</button>\n                </form>\n                 : null}\n                 <div className=\"comments-container\">\n                {this.renderComments(thread.comments)}\n                </div>\n            </div>\n        </div>\n        </div>\n        </div>\n            \n    )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        user_id: state.login_user.current_user.id,\n        loggedIn: state.login_user.loggedIn\n        \n    }\n}\n\nexport default withRouter(connect(mapStateToProps, { profileAction })(ThreadCard))"]},"metadata":{},"sourceType":"module"}